<% layout('layouts/boilerplate') %> 
<div class='row'>
    <h1 class='text-center'> Edit Campground </h1>
    <div class='col-6 offset-3 mb-3'>
        <form action="/campgrounds/<%= campground._id %>?_method=PUT" method ="POST" 
            novalidate class='validated-form' enctype="multipart/form-data">
          <div class='mb-3'>
              <label class='form-label' for ="title">Title:</label>
              <input class='form-control' type="text" id="title" name="campground[title]" 
              placeholder="Title" value="<%= campground.title %>" required>
              <div class='valid-feedback'>Looks good!!</div>
          </div>
          <div class='mb-3'>
              <label class='form-label' for ="description">Description:</label>
              <textarea class='form-control' type="text" id="description" name="campground[description]"
               placeholder="Description" cols="10" rows="3" required><%= campground.description %></textarea>
               <div class='valid-feedback'>Looks good!!</div>
          </div>
          <div class='mb-3'>
              <label class='form-label' for ="location">Location:</label>
              <input class='form-control' type="text" id="location" name="campground[location]"
               placeholder="Location" value="<%= campground.location %>" required>
               <div class='valid-feedback'>Looks good!!</div>
          </div class='mb-3'>
          <div class="input-group mb-3">
              <label class='form-label' for ="price">Campground Price:</label>
              <div class='input-group'>
                  <span class="input-group-text" id="price-label">$</span>
                  <input type="text" class="form-control" id="price" placeholder="0.00" 
                  aria-label="price" aria-describedby="price-label" name="campground[price]" 
                  value="<%= campground.price %>" required>
                  <div class='valid-feedback'>Looks good!!</div>
              </div>
            </div>
            <div class='mb-3'>
                <label class='form-label' for ="image">Upload Image:</label>
                <input class='form-control' type="file" id="image" name="campground[image]"
                 placeholder="Image"  multiple>
                 <div class='valid-feedback'>Looks good!!</div>
            </div>
            <div class="mb-3">
                <% campground.images.forEach(function(img, i) { %> 
                    <img src="<%= img.thumbnail %>" class="img-thumbnail" alt="">
                   <div class="form-check-inline">
                       <input type="checkbox" id="image-<%= i %>" name="deleteImages[]" value="<%=img.filename%>">
                   </div>
                   <label for="image-<%= i %>">Delete</label>
                    <% }) %> 
            </div>
          <button class="btn btn-info">Update Campground</button>
          <a class="btn btn-primary d-inline" href='/campgrounds/<%= campground._id %> '>Back To Campground</a>
          </form>
    </div>
</div>
